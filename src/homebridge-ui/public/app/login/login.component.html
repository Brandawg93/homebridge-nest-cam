<p class="help-block"><strong>Note: </strong>This UI only works with Google accounts. Please close this page and set up your config.json manually. Instruction can be found on the <a href="https://github.com/Brandawg93/homebridge-nest-cam/wiki/Manual-Authentication" target="_blank">wiki</a>.</p>
<div @opacity *ngIf="!waiting">
    <div>
        <ol>
            <li>Click <a href="{{url}}" target="_blank" rel="noopener noreferrer">HERE</a> to open the Nest login page.</li>
            <li>Copy and paste the code below: </li>
        </ol>
        <div [formGroup]="form">
            <div class="schema-form-text form-group">
                <label class="control-label">Code <strong class="text-danger">*</strong></label>
                <input type="text" class="form-control" formControlName="code" />
            </div>
            <div class="text-center">
                <button type="button" class="btn btn-primary" [disabled]="!form?.valid" (click)="doLogin()">Log In</button>
            </div>
        </div>
    </div>    
</div>
<div @opacity *ngIf="waiting">
    <div class="text-center">
        <progress-bar [progress]="progress" [color]="color"></progress-bar>
        <div>
            <p>Loggin in. Please wait...</p>
        </div>
        <p class="text-danger">{{errMsg}}</p>
        <button class="btn btn-danger" (click)="restart()">Restart <i class="fas fa-undo-alt"></i></button>
    </div>
</div>